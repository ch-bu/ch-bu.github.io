define(["backbone","react","reactdom","input","textModel","visualization"],function(t,e,n,i,a,r){var d=t.View.extend({el:".container",initialize:function(){this.textModel=new a,this.listenTo(this.textModel,"change:text",this.textChanged),n.render(e.createElement(i,{model:this.textModel}),document.getElementById("data-input")),n.render(e.createElement(r,{width:$("#data-display").width(),height:$("#data-display").height(),mainView:this}),document.getElementById("data-display"))},textChanged:function(){var t=this.textModel.get("text").toLowerCase().replace(/[^a-z]+/g,"").split(""),e=t.reduce(function(t,e){return t[e]=++t[e]||1,t},{}),n=[],i=function(t){var i=Array.apply(null,{length:e[t]}).map(Number.call,Number);i=i.map(function(t){return t+1}).map(function(e){var i=t+e;n.push([t,e,i])})};for(var a in e)i(a);this.textModel.set("charDict",n)}});return d});